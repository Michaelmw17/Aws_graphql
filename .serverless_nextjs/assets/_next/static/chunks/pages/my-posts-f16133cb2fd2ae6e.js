(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{3709:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-posts",function(){return e(1197)}])},1976:function(t,n,e){"use strict";var r=e(5893),o=e(7294),i=e(4103);function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,n){return!n||"object"!==d(n)&&"function"!==typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function l(t,n){return(l=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var d=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},p=function(t){function n(){return s(this,n),u(this,c(n).apply(this,arguments))}var e,o,d;return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&l(t,n)}(n,t),e=n,(o=[{key:"render",value:function(){return(0,r.jsx)(i.ZP,{value:this.props.selected,onChange:this.props.onChange,options:this.props.options})}}])&&a(e.prototype,o),d&&a(e,d),n}(o.Component);n.Z=p},1949:function(t,n,e){"use strict";e.d(n,{qb:function(){return r},CP:function(){return o},fR:function(){return i}});var r="\n  mutation CreatePost(\n    $input: CreatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    createPost(input: $input, condition: $condition) {\n      id\n      title\n      category\n      countries\n      select\n      date\n      createdAt\n      content\n      username\n      updatedAt\n    }\n  }\n",o="\n  mutation UpdatePost(\n    $input: UpdatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    updatePost(input: $input, condition: $condition) {\n      id\n      title\n      category\n      countries\n      select\n      date\n      createdAt\n      content\n      username\n      updatedAt\n    }\n  }\n",i="\n  mutation DeletePost(\n    $input: DeletePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    deletePost(input: $input, condition: $condition) {\n      id\n      title\n      category\n      countries\n      select\n      date\n      createdAt\n      content\n      username\n      updatedAt\n    }\n  }\n"},2788:function(t,n,e){"use strict";e.d(n,{xl:function(){return r},aA:function(){return o},zu:function(){return i}});var r="\n  query GetPost($id: ID!) {\n    getPost(id: $id) {\n      id\n      title\n      category\n      countries\n      select\n      date\n      createdAt\n      content\n      username\n      updatedAt\n    }\n  }\n",o="\n  query ListPosts(\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listPosts(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        title\n        category\n        countries\n        select\n        date\n        createdAt\n        content\n        username\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",i="\n  query PostsByUsername(\n    $username: String\n    $sortDirection: ModelSortDirection\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    postsByUsername(\n      username: $username\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        title\n        category\n        countries\n        select\n        date\n        createdAt\n        content\n        username\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"},1197:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return h}});var r=e(5666),o=e.n(r),i=e(5893),s=e(7294),a=e(1664),c=e(531),u=e(2125),l=e(2788),d=e(1949);e(1976);function p(t,n,e,r,o,i,s){try{var a=t[i](s),c=a.value}catch(u){return void e(u)}a.done?n(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function s(t){p(i,r,o,s,a,"next",t)}function a(t){p(i,r,o,s,a,"throw",t)}s(void 0)}))}}var m={title:"",content:"",category:"",createdAt:(new Date).toISOString()};function h(){var t=function(){return P.apply(this,arguments)},n=(0,s.useState)([]),e=n[0],r=n[1],p=(0,s.useState)(m),h=p[0],y=(p[1],p[2],h.title,h.content,h.category,h.createdAt,(0,s.useState)(5)),x=y[0],b=y[1],g=e.slice(0,x);function P(){return(P=f(o().mark((function t(){var n,e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.g.currentAuthenticatedUser();case 2:return n=t.sent.username,t.next=5,u.b.graphql({query:l.zu,variables:{username:n}});case 5:e=t.sent,r(e.data.postsByUsername.items),console.log("console",e.data.postsByUsername.items);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=f(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.b.graphql({query:d.fR,variables:{input:{id:e}},authMode:"AMAZON_COGNITO_USER_POOLS"});case 2:t();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,s.useEffect)((function(){t()}),[]),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6 mb-2",children:"My Article Page"}),g.map((function(t,n){return(0,i.jsxs)("div",{className:"border-b border-gray-300 mt-8 pb-4",children:[(0,i.jsxs)("p",{className:"text-gray-500 font-semibold mt-2",children:["Author: ",t.username]}),(0,i.jsxs)("p",{className:"text-l font-semibold",children:["Author's Country: ",t.countries]}),(0,i.jsxs)("h2",{className:"text-xl font-semibold mt-2",children:["Title: ",t.title]}),(0,i.jsxs)("p",{className:"text-xl font-semibold mt-2",children:["Category: ",t.category.label]}),(0,i.jsxs)("p",{className:"text-1xl mt-4 font-semibold tracking-wide",children:["Selected Blog Category: ",t.select]}),(0,i.jsxs)("time",{dateTime:t.createdAt,children:["Blog gerenated date created at: ",new Date(t.createdAt).toDateString()]}),(0,i.jsx)("br",{}),(0,i.jsxs)("time",{dateTime:t.date,children:["User date created at: ",new Date(t.date).toDateString()]}),(0,i.jsx)("br",{}),(0,i.jsx)(a.default,{href:"/edit-post/".concat(t.id),children:(0,i.jsx)("a",{className:"text-sm mr-4 text-blue-500",children:"Edit Post"})}),(0,i.jsx)(a.default,{href:"/posts/".concat(t.id),children:(0,i.jsx)("a",{className:"text-sm mr-4 text-blue-500",children:"View Post"})}),(0,i.jsx)("button",{className:"text-sm mr-4 text-red-500",onClick:function(){return function(t){return v.apply(this,arguments)}(t.id)},children:"Delete Post"})]},n)})),(0,i.jsx)("button",{type:"button",onClick:function(){b(x+x)},children:"Load more posts"})]})}}},function(t){t.O(0,[125,103,774,888,179],(function(){return n=3709,t(t.s=n);var n}));var n=t.O();_N_E=n}]);