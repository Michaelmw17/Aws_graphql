(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[243],{9537:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-post/[id]",function(){return e(124)}])},1976:function(n,t,e){"use strict";var r=e(5893),o=e(7294),i=e(4103);function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function a(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function c(n){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function s(n,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function l(n,t){return(l=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}var p=function(n){return n&&"undefined"!==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},f=function(n){function t(){return u(this,t),s(this,c(t).apply(this,arguments))}var e,o,p;return function(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&l(n,t)}(t,n),e=t,(o=[{key:"render",value:function(){return(0,r.jsx)(i.ZP,{value:this.props.selected,onChange:this.props.onChange,options:this.props.options})}}])&&a(e.prototype,o),p&&a(e,p),t}(o.Component);t.Z=f},1949:function(n,t,e){"use strict";e.d(t,{qb:function(){return r},CP:function(){return o},fR:function(){return i}});var r="\n  mutation CreatePost(\n    $input: CreatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    createPost(input: $input, condition: $condition) {\n      id\n      title\n      category\n      countries\n      select\n      date\n      createdAt\n      content\n      username\n      updatedAt\n    }\n  }\n",o="\n  mutation UpdatePost(\n    $input: UpdatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    updatePost(input: $input, condition: $condition) {\n      id\n      title\n      category\n      countries\n      select\n      date\n      createdAt\n      content\n      username\n      updatedAt\n    }\n  }\n",i="\n  mutation DeletePost(\n    $input: DeletePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    deletePost(input: $input, condition: $condition) {\n      id\n      title\n      category\n      countries\n      select\n      date\n      createdAt\n      content\n      username\n      updatedAt\n    }\n  }\n"},2788:function(n,t,e){"use strict";e.d(t,{xl:function(){return r},aA:function(){return o},zu:function(){return i}});var r="\n  query GetPost($id: ID!) {\n    getPost(id: $id) {\n      id\n      title\n      category\n      countries\n      select\n      date\n      createdAt\n      content\n      username\n      updatedAt\n    }\n  }\n",o="\n  query ListPosts(\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listPosts(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        title\n        category\n        countries\n        select\n        date\n        createdAt\n        content\n        username\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",i="\n  query PostsByUsername(\n    $username: String\n    $sortDirection: ModelSortDirection\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    postsByUsername(\n      username: $username\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        title\n        category\n        countries\n        select\n        date\n        createdAt\n        content\n        username\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"},124:function(n,t,e){"use strict";e.r(t);var r=e(5666),o=e.n(r),i=e(5893),u=e(7294),a=e(2125),c=e(1163),s=e(1634),l=(e(9197),e(1949)),p=e(2788),f=e(1976);function d(n,t,e,r,o,i,u){try{var a=n[i](u),c=a.value}catch(s){return void e(s)}a.done?t(c):Promise.resolve(c).then(r,o)}function y(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(n){d(i,r,o,u,a,"next",n)}function a(n){d(i,r,o,u,a,"throw",n)}u(void 0)}))}}function b(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function m(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){b(n,t,e[t])}))}return n}var h=[{label:"Australia"},{label:"New Zealand"},{label:"USA"},{label:"Italy"}],g=[{label:"Sport"},{label:"News"},{label:"Weather"},{label:"Other"}];t.default=function(){var n=function(n){r((function(){return m({},e,b({},n.target.name,n.target.value))}))},t=(0,u.useState)(null),e=t[0],r=t[1],d=(0,c.useRouter)(),v=d.query.id;if((0,u.useRef)(null),(0,u.useEffect)((function(){function n(){return(n=y(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(v){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.b.graphql({query:p.xl,variables:{id:v}});case 4:t=n.sent,console.log("postData: ",t),r(t.data.getPost);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[v]),!e)return null;var P=e.title,x=e.content,w=e.category,$=e.createdAt;function O(){return(O=y(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(P&&x&&w&&$){n.next=2;break}return n.abrupt("return");case 2:return t={id:v,content:x,title:P,category:w,createdAt:$},n.next=5,a.b.graphql({query:l.CP,variables:{input:t},authMode:"AMAZON_COGNITO_USER_POOLS"});case 5:console.log("Your post successfully updated!"),d.push("/my-posts");case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6 mb-2",children:"Edit post"}),(0,i.jsx)("input",{onChange:n,name:"title",placeholder:"Title",value:e.title,className:"border-b pb-2 text-lg my-4 focus:outline-none w-full font-light text-gray-500 placeholder-gray-500 y-2"}),(0,i.jsx)("input",{onChange:n,name:"category",placeholder:"Author Category",value:e.category,className:"border-b pb-2 text-lg my-4 focus:outline-none w-full font-light text-gray-500 placeholder-gray-500 y-2"}),(0,i.jsx)("div",{className:"mt-2 mb-2",children:(0,i.jsx)(f.Z,{options:h,name:"countries",onChange:function(n){return r(m({},e,{countries:n.value}))},value:e.countries,className:"m-6",placeholder:"Countries Select..."})}),(0,i.jsx)("div",{className:"mt-2 mb-2",children:(0,i.jsx)(f.Z,{options:g,name:"select",onChange:function(n){return r(m({},e,{select:n}))},value:e.select,className:"m-6"})}),(0,i.jsx)(s.Z,{value:e.content,onChange:function(n){return r(m({},e,{content:n}))}}),(0,i.jsx)("button",{className:"mb-4 bg-blue-600 text-white font-semibold px-8 py-2 rounded-lg",onClick:function(){return O.apply(this,arguments)},children:"Update Post"})]})}},2562:function(){}},function(n){n.O(0,[126,125,103,194,774,888,179],(function(){return t=9537,n(n.s=t);var t}));var t=n.O();_N_E=t}]);