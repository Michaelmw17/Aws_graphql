(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{3709:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-posts",function(){return e(1197)}])},1949:function(n,t,e){"use strict";e.d(t,{qb:function(){return i},CP:function(){return r},fR:function(){return o}});var i="\n  mutation CreatePost(\n    $input: CreatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    createPost(input: $input, condition: $condition) {\n      id\n      title\n      content\n      username\n      createdAt\n      updatedAt\n    }\n  }\n",r="\n  mutation UpdatePost(\n    $input: UpdatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    updatePost(input: $input, condition: $condition) {\n      id\n      title\n      content\n      username\n      createdAt\n      updatedAt\n    }\n  }\n",o="\n  mutation DeletePost(\n    $input: DeletePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    deletePost(input: $input, condition: $condition) {\n      id\n      title\n      content\n      username\n      createdAt\n      updatedAt\n    }\n  }\n"},2788:function(n,t,e){"use strict";e.d(t,{xl:function(){return i},aA:function(){return r},zu:function(){return o}});var i="\n  query GetPost($id: ID!) {\n    getPost(id: $id) {\n      id\n      title\n      content\n      username\n      createdAt\n      updatedAt\n    }\n  }\n",r="\n  query ListPosts(\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listPosts(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        title\n        content\n        username\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",o="\n  query PostsByUsername(\n    $username: String\n    $sortDirection: ModelSortDirection\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    postsByUsername(\n      username: $username\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        title\n        content\n        username\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"},1197:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return m}});var i=e(5666),r=e.n(i),o=e(5893),s=e(7294),u=e(1664),a=e(531),c=e(2125),d=e(2788),l=e(1949);function p(n,t,e,i,r,o,s){try{var u=n[o](s),a=u.value}catch(c){return void e(c)}u.done?t(a):Promise.resolve(a).then(i,r)}function f(n){return function(){var t=this,e=arguments;return new Promise((function(i,r){var o=n.apply(t,e);function s(n){p(o,i,r,s,u,"next",n)}function u(n){p(o,i,r,s,u,"throw",n)}s(void 0)}))}}function m(){var n=function(){return p.apply(this,arguments)},t=(0,s.useState)([]),e=t[0],i=t[1];function p(){return(p=f(r().mark((function n(){var t,e;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.g.currentAuthenticatedUser();case 2:return t=n.sent.username,n.next=5,c.b.graphql({query:d.zu,variables:{username:t}});case 5:e=n.sent,i(e.data.postsByUsername.items);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(){return(m=f(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.graphql({query:l.fR,variables:{input:{id:e}},authMode:"AMAZON_COGNITO_USER_POOLS"});case 2:n();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,s.useEffect)((function(){n()}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6 mb-2",children:"My Posts"}),e.map((function(n,t){return(0,o.jsxs)("div",{className:"border-b border-gray-300 mt-8 pb-4",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold",children:n.title}),(0,o.jsxs)("p",{className:"text-gray-500 mt-2 mb-2",children:["Author: ",n.username]}),(0,o.jsx)(u.default,{href:"/edit-post/".concat(n.id),children:(0,o.jsx)("a",{className:"text-sm mr-4 text-blue-500",children:"Edit Post"})}),(0,o.jsx)(u.default,{href:"/posts/".concat(n.id),children:(0,o.jsx)("a",{className:"text-sm mr-4 text-blue-500",children:"View Post"})}),(0,o.jsx)("button",{className:"text-sm mr-4 text-red-500",onClick:function(){return function(n){return m.apply(this,arguments)}(n.id)},children:"Delete Post"})]},t)}))]})}}},function(n){n.O(0,[125,774,888,179],(function(){return t=3709,n(n.s=t);var t}));var t=n.O();_N_E=t}]);